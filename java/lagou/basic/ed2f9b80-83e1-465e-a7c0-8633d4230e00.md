# 集群 — 概述

<br/>

## 1、概述

<br/>

- RabbitMQ 集群是非常常见的。

- RabbitMQ 集群的官方文档：[https://www.rabbitmq.com/clustering.html](https://www.rabbitmq.com/clustering.html)

- RabbitMQ 常见的3种使用模式，其中后两种模式为常见的“集群”。

  - 单机模式：非集群模式，就只使用一个 RabbitMQ 服务。实际场景中很少使用，因为不可靠。

  

  - 普通集群模式：有一个主节点，主节点的 RabbitMQ 服务面向消息生产者；其他的节点中的 RabbitMQ 服务面向消息消费者。当消息消费者想要获取消息，主节点与其他节点之间建立临时通道，将主节点中的消息通过“通道”发送至其他节点，消息消费者通过其他节点获取消息。
    - 当主节点发送故障，其他节点就无法获取消息，进而消息消费者无法消费消息。除非主节点恢复并且之前的消息进行了持久化；否则，消息丢失就是正常的。

  

  - 镜像集群模式：Mirror 模式，RabbitMQ **最常见**的集群模式。核心在于多个节点之间实现数据同步。基本的是要求2~3个节点之间必须实现数据同步。

  

  - 其他的集群模式。